parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"AqPQ":[function(require,module,exports) {
"use strict";function e(e){const t=e;let r=0;this.getId=(()=>t),this.getScore=(()=>Number(r)),this.setScore=(e=>{if(e<0)throw new Error("Score cannot be negative");r=Number(e)}),this.toString=(()=>"id: "+t+", score: "+r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=e;
},{}],"QcYz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=r;var e=require("./player-module-v2");function r(e,r){const t=e;let n=r,s=void 0,i=[],a=1;this.getGameName=(()=>t),this.addPlayer=(e=>{i.push(e)}),this.removePlayer=(e=>{if(i.length===(i=i.filter(r=>r.id!==e.id)).length)throw new Error("Cannot remove the player. Player not found.")}),this.getNoOfPlayers=(()=>i.length),this.setNoOfTurns=(e=>{n=e}),this.getNoOfTurns=(()=>n),this.incrementTurn=(()=>{if(!(a<n))throw new Error("Current turn can not be larger than total number of turns.");a++}),this.resetCurrentTurn=(()=>{a=1}),this.getCurrentTurn=(()=>a),this.getCurrentPlayer=(()=>s),this.setCurrentPlayer=(e=>{s=e}),this.getWinners=(()=>{const e=_isDrawInternal(),r=[];return i.forEach(t=>{t===e.highestScore&&r.push(t)}),r}),this.isDraw=(()=>{return this._isDrawInternal().frequency>1}),this._isDrawInternal=(()=>{let e=0,r=new Map;return i.forEach(t=>{const n=t.getScore();e=n>e?n:e,r.has(n)?r.set(n,r.get(n)+1):r.set(n,1)}),{highestScore:e,frequency:r.get(e)}}),this.toString=(()=>"name: "+t+", noOfTurns: "+n+", currTurn: "+a+", currPlayer: "+s+"\nplayers: "+i.toString())}
},{"./player-module-v2":"AqPQ"}],"je3G":[function(require,module,exports) {
"use strict";async function t(t){try{const s=await fetch(t);return await s.json()}catch(e){console.log(e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAPIDataAsJsObjects=t;
},{}],"GZ9E":[function(require,module,exports) {
"use strict";function t(t,e){return t=Math.ceil(t),e=Math.floor(e)-1,Math.floor(Math.random()*(e-t+1))+t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRandomInt=t;
},{}],"tBni":[function(require,module,exports) {
"use strict";function e(e,r,t){if("boolean"!=typeof t)throw Error("Third argument must be a boolean.");if(!Array.isArray(e))throw Error("First argument must be an Array.");{let o;switch(r){case"disabled":case"checked":for(o=0;o<e.length;o++)e[o][r]=t;break;default:throw Error("Second argument for setRadioButtons function must be equal to checked or disabled")}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setRadioButtons=e;
},{}],"wjxA":[function(require,module,exports) {
"use strict";function r(r,e,t){const a=[];if(Array.isArray(r)&&Array.isArray(e)){for(let t=0;t<r.length;t++)a[t]=e[r[t]].property;return a}throw Error("chosenOptions or elementsArray is not an array.")}function e(r,e,t,a){if(Array.isArray(r)&&Array.isArray(e)&&Array.isArray(t)&&Array.isArray(a)){return{easy:r,medium:e,hard:t,master:a}}throw Error("All arguments to getLevelItemsArrMap() must be arrays.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractElementsProperties=r,exports.getLevelItemsArrMap=e;
},{}],"xbSa":[function(require,module,exports) {
"use strict";function e(e){const t=e.getCurrentPlayer();t.setScore(t.getScore()+1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateScore=e;
},{}],"m4Pr":[function(require,module,exports) {
"use strict";function e(e,r){r.innerHTML=e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderResult=e;
},{}],"WALn":[function(require,module,exports) {
"use strict";function e(e){e.sort(()=>Math.random()-.5)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffle=e;
},{}],"iamU":[function(require,module,exports) {
"use strict";function e(e){let t="";for(let r=0;r<e.length;r++)e[r].checked&&(t=e[r].value);return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUserAnswer=e;
},{}],"zmj1":[function(require,module,exports) {
"use strict";function e(e){if(new Set(e).size!==e.length)throw Error("Your Array: "+e+" has duplicates.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasDuplicates=e;
},{}],"Jl8K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEasyArray=e,exports.getMediumArray=n,exports.getHardArray=i,exports.getMasterArray=r;var a=require("../module-universal/array-utilities/hasDuplicates");function e(){let e=["Korea (Republic of)","Netherlands","Indonesia","Mayotte","Antarctica","Israel","Canada","Switzerland","Brazil","Japan","United Kingdom of Great Britain and Northern Ireland","Sweden","Turkey","Germany","United States of America","Spain","Cyprus","Slovakia","Greece","Austria","Croatia","Italy","Denmark","Russian Federation","Poland","France","China","Uruguay","Belgium","Czech Republic","Ukraine","Holy See","Norway","Portugal","Sudan","Finland","Nepal","New Zeland","Iceland","United States Minor Outlying Islands"];return(0,a.hasDuplicates)(e),e}function n(){let e=["Australia","Puerto Rico","Korea (Democratic People's Republic of)","Mexico","Macedonia (the former Yugoslav Republic of)","Saint Martin (French part)","Malta","Luxembourg","Ireland","Bulgaria","Republic of Kosovo","Iraq","India","Egypt","Chile","Mongolia","Lithuania","Montenegro","Viet Nam","Jamaica","Slovenia","Albania","Hungary","Belarus","Estonia","Romania","Saudi Arabia","Nicaragua","Venezuela (Bolivarian Republic of)","Syrian Arab Republic","Serbia","Hong Kong","Argentina"];return(0,a.hasDuplicates)(e),e}function i(){let e=["Tunisia","Liechtenstein","Bosnia and Herzegovina","Greenland","Kenya","Georgia","Thailand","Panama","Jersey","Bhutan","Cambodia","Tobago","Kuwait","Haiti","Algieria","Lebanon","Sri Lanka","Libya","Colombia","Ecuador","Paraguay","Afghanistan","San Marino","Sudan","Andora","Senegal","Somalia","Turkmenistan","Pakistan","Iran","Peru","Cuba","Honduras","Jordan","Uzbekistan","South Georgia and the South Sandwich Islands","Papua New Guinea","Cook Islands","Virgin Islands (British)","Heard Island and McDonald Islands","Western Sahara","Ã…land Islands","French Southern Territories","Nigeria"];return(0,a.hasDuplicates)(e),e}function r(e,n,i,r){let t,o=0,l=[];for(let a=0;a<r.length;a++)t=r[a].name,e.includes(t)||n.includes(t)||i.includes(t)||(l[o]=t,o++);return(0,a.hasDuplicates)(l),l}
},{"../module-universal/array-utilities/hasDuplicates":"zmj1"}],"M2T3":[function(require,module,exports) {
"use strict";function e(e,r){if("string"!=typeof r)throw Error("Second argument must be a string.");let t;for(t=0;t<e.length;t++)e[t].style.cursor=r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setCursorType=e;
},{}],"cisn":[function(require,module,exports) {
"use strict";function e(){this.get=(e=>localStorage.getItem(e)),this.put=((e,t)=>{localStorage.setItem(e,t)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Persistence=e;
},{}],"CEPk":[function(require,module,exports) {
"use strict";var _playerModuleV=require("../module-game/player-module-v2"),_gameModuleV=require("../module-game/game-module-v2"),_apiDataFetcher=require("../module-universal/api-data-fetcher"),_getRandomInt=require("../module-universal/get-random-int"),_btnUtills=require("../module-view/btn-utills"),_extractCountryNames=require("../module-country-api/extract-country-names"),_updateScore=require("../module-game/update-score"),_renderResult=require("../module-view/render-result"),_shuffle=require("../module-universal/array-utilities/shuffle"),_getUserAnswer=require("../module-view/get-user-answer"),_immutableArrays=require("../module-country-api/immutable-arrays"),_setCursorType=require("../module-view/set-cursor-type"),_persistence=require("../module-persistence/persistence");const flagImg=document.getElementById("flag"),first=document.querySelector("#options .option:nth-of-type(1) label"),second=document.querySelector("#options .option:nth-of-type(2) label"),third=document.querySelector("#options .option:nth-of-type(3) label"),topRadioButton=document.getElementById("choice1"),middleRadioButton=document.getElementById("choice2"),bottomRadioButton=document.getElementById("choice3"),answer=document.getElementById("answer"),result=document.getElementById("result"),form=document.querySelector("form"),player1Score=document.querySelector("#rightScore"),player2Score=document.querySelector("#leftScore"),opt=document.querySelector("#settings"),player1MatchScore=document.querySelector("#p1MatchScore"),player2MatchScore=document.querySelector("#p2MatchScore"),resetBtn=document.querySelector("#resetBtn"),optionsPage=document.querySelector("#optionsPage"),gamePage=document.querySelector("#gamePage"),levelChoice=document.querySelector("#level-select"),radioBtns=document.querySelectorAll("input[type=radio]"),cursorStuff=document.querySelectorAll(".pointer"),playBtn=document.querySelector("#play"),next=document.getElementById("nextBtn"),nextDiv=document.getElementById("nextBtnDiv"),API_URL="https://restcountries.eu/rest/v2/all",player1=new _playerModuleV.Player(1),player2=new _playerModuleV.Player(2);let opt2,opt3,countryArray,options=[],correctAnswer,nextFlagAllowed=!1,difficulty="medium",indexOfAnswer=0,masterFlagsImmutable=[];const persistence=new _persistence.Persistence,easyFlagsImmutable=(0,_immutableArrays.getEasyArray)(),mediumFlagsImmutable=(0,_immutableArrays.getMediumArray)(),hardFlagsImmutable=(0,_immutableArrays.getHardArray)(),level_ItemsArr_Map=(0,_extractCountryNames.getLevelItemsArrMap)(easyFlagsImmutable.slice(),mediumFlagsImmutable.slice(),hardFlagsImmutable.slice(),masterFlagsImmutable.slice());let flagsPerMatch=Math.round((mediumFlagsImmutable.length-1)/2),game=new _gameModuleV.Game("Flag game",flagsPerMatch);async function init(){countryArray=await(0,_apiDataFetcher.getAPIDataAsJsObjects)(API_URL),masterFlagsImmutable=(0,_immutableArrays.getMasterArray)(easyFlagsImmutable,mediumFlagsImmutable,hardFlagsImmutable,countryArray),game.addPlayer(player1),game.addPlayer(player2),game.setCurrentPlayer(player1),reset(),renderTottalMatches(),(0,_setCursorType.setCursorType)(cursorStuff,"pointer"),player1Score.classList.add("activePlayer"),optionsPage.classList.add("invisible"),playBtn.classList.add("bold"),null===persistence.get("player1")&&persistTotalMatchesScore(),renderCurrentMatchScore()}function persistTotalMatchesScore(){persistence.put("player1",Number(0)),persistence.put("player2",Number(0))}function initNewMatch(){nextDiv.classList.remove("normalMargin"),nextDiv.classList.add("bigMargin"),renderMatchResult(),player1Score.classList.add("activePlayer"),player2Score.classList.remove("activePlayer"),player1.setScore(0),player2.setScore(0),renderCurrentMatchScore(),renderTottalMatches()}function changeTurn(){game.getCurrentTurn()<game.getNoOfTurns()?game.incrementTurn():(game.getCurrentPlayer().getId()===player1.getId()?(player1Score.classList.remove("activePlayer"),player2Score.classList.add("activePlayer"),game.setCurrentPlayer(player2)):(game.setCurrentPlayer(player1),initNewMatch()),game.resetCurrentTurn())}async function reset(){result.innerHTML="",answer.innerHTML="",options=generateOptionsAsIndexes(level_ItemsArr_Map),correctAnswer=options[0],(0,_shuffle.shuffle)(options),renderCountryNamesOnBtns((0,_extractCountryNames.extractElementsProperties)(options,countryArray,"name")),setFlagUrl(extractFlag(correctAnswer));const e=[topRadioButton,middleRadioButton,bottomRadioButton];(0,_btnUtills.setRadioButtons)(e,"disabled",!1),(0,_btnUtills.setRadioButtons)(e,"checked",!1)}function checkIfOutOfFlags(difficultyCoutriesObj){difficultyCoutriesObj[difficulty].length<2&&(difficultyCoutriesObj[difficulty]=eval(difficulty+"FlagsImmutable").slice())}function renderCountryNamesOnBtns(){first.innerText=countryArray[options[0]].name,second.innerText=countryArray[options[1]].name,third.innerText=countryArray[options[2]].name,topRadioButton.value=options[0],middleRadioButton.value=options[1],bottomRadioButton.value=options[2]}function setFlagUrl(e){flagImg.src=e}function extractFlag(e){return countryArray[e].flag}function renderCurrentMatchScore(){player1Score.innerHTML=player1.getScore()+"/"+game.getNoOfTurns(),player2Score.innerHTML="  :  "+player2.getScore()+"/"+game.getNoOfTurns()}function renderTottalMatches(){player1MatchScore.innerHTML=persistence.get("player1"),player2MatchScore.innerHTML="  :  "+persistence.get("player2")}function generateOtherCountries(){opt2=(0,_getRandomInt.getRandomInt)(0,countryArray.length),opt3=(0,_getRandomInt.getRandomInt)(0,countryArray.length)}function generateOptionsAsIndexes(e){generateOtherCountries(),checkIfOutOfFlags(e);const t=e[difficulty],r=(0,_getRandomInt.getRandomInt)(0,t.length),a=t[r];t.splice(r,1);for(let n=0;n<countryArray.length;n++)a===countryArray[n].name&&(indexOfAnswer=n);for(;opt2===indexOfAnswer||indexOfAnswer===opt3||opt2===opt3;)generateOtherCountries();return[indexOfAnswer,opt2,opt3]}function renderMatchResult(){game.isDraw()?result.innerHTML="It is a draw!!!! No more "+difficulty+" flags availeble for this level. Play again with the same flags or change difficulty in the options.":player1.getScore()>player2.getScore()?renderCurrentMatchEndMsg("player1"):renderCurrentMatchEndMsg("player2")}function renderCurrentMatchEndMsg(e){const t=persistence.get(e);persistence.put(e,Number(t)+1),result.innerHTML="player "+("player1"===e?"one":"two")+" has won. No more "+difficulty+" flags availeble for this level. Play again with the same flags or change difficulty in the options."}init(),levelChoice.addEventListener("change",function(){difficulty=levelChoice.value,flagsPerMatch=setQuestionNumber();const e=game.getCurrentPlayer();(game=new _gameModuleV.Game("Flag game",flagsPerMatch)).setCurrentPlayer(e),renderCurrentMatchScore(),reset()}),form.addEventListener("change",function(e){nextFlagAllowed=!0,next.classList.remove("invisible"),next.classList.add("visible"),(0,_btnUtills.setRadioButtons)([topRadioButton,middleRadioButton,bottomRadioButton],"disabled",!0);const t=(0,_getUserAnswer.getUserAnswer)(radioBtns);renderAnswer(Number(t)===correctAnswer),changeTurn(),renderCurrentMatchScore(),e.preventDefault()},!1),next.addEventListener("click",function(){!0===nextDiv.classList.contains("bigMargin")&&(nextDiv.classList.remove("bigMargin"),nextDiv.classList.add("normalMargin")),nextFlagAllowed&&(reset(),nextFlagAllowed=!1,next.classList.add("invisible"),next.classList.remove("visible"))}),opt.addEventListener("click",function(){optionsPage.classList.remove("invisible"),gamePage.classList.remove("visible"),gamePage.classList.add("invisible"),optionsPage.classList.add("visible"),playBtn.classList.remove("bold"),opt.classList.add("bold")}),playBtn.addEventListener("click",function(){opt.classList.remove("bold"),playBtn.classList.add("bold"),gamePage.classList.remove("invisible"),optionsPage.classList.add("invisible"),optionsPage.classList.remove("visible"),gamePage.classList.add("visible")}),resetBtn.addEventListener("click",function(){game.resetCurrentTurn(),persistTotalMatchesScore(),player1Score.classList.add("activePlayer"),player2Score.classList.remove("activePlayer"),game.setCurrentPlayer(player1),player1.setScore(0),player2.setScore(0),renderTottalMatches(),renderCurrentMatchScore()});const setQuestionNumber=()=>Math.round((eval(difficulty+"FlagsImmutable").length-1)/2);function renderAnswer(e){e?(answer.classList.remove("red"),answer.classList.add("green"),(0,_renderResult.renderResult)("Correct!",answer),(0,_updateScore.updateScore)(game)):(answer.classList.remove("green"),answer.classList.add("red"),(0,_renderResult.renderResult)("Inncorect! Correct answer is "+countryArray[correctAnswer].name,answer))}
},{"../module-game/player-module-v2":"AqPQ","../module-game/game-module-v2":"QcYz","../module-universal/api-data-fetcher":"je3G","../module-universal/get-random-int":"GZ9E","../module-view/btn-utills":"tBni","../module-country-api/extract-country-names":"wjxA","../module-game/update-score":"xbSa","../module-view/render-result":"m4Pr","../module-universal/array-utilities/shuffle":"WALn","../module-view/get-user-answer":"iamU","../module-country-api/immutable-arrays":"Jl8K","../module-view/set-cursor-type":"M2T3","../module-persistence/persistence":"cisn"}]},{},["CEPk"], null)
//# sourceMappingURL=/javascripts.3ebf41da.js.map