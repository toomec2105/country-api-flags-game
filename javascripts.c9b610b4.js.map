{"version":3,"sources":["modulev2/player-module-v2.js","modulev2/game-module-v2.js","javascripts/index.js"],"names":["Player","playerId","id","score","getId","getScore","Number","setScore","playerScore","Error","toString","Game","gameName","numberOfTurns","name","noOfTurns","currentPlayer","undefined","players","currentTurn","getGameName","addPlayer","player","push","removePlayer","initialLength","length","filter","p","getNoOfPlayers","setNoOfTurns","getNoOfTurns","incrementTurn","resetCurrentTurn","getCurrentTurn","getCurrentPlayer","setCurrentPlayer","getWinners","result","_isDrawInternal","winners","forEach","highestScore","isDraw","frequency","map","Map","currScore","has","set","get","flagImg","document","getElementById","first","querySelector","console","log","second","third","firstInput","secondInput","thirdInput","answer","form","p1Score","p2Score","opt","p1MatchScore","p2MatchScore","resetBtn","optionsPage","gamePage","levelChoice","radioBtns","querySelectorAll","playBtn","next","nextDiv","opt2","opt3","API_URL","countryArray","correctAnswer","options","nextFlagAllowed","difficulty","indexOfAnswer","easyFlagsImmutable","mediumFlagsImmutable","hardFlagsImmutable","easyFlagsMutable","slice","mediumFlagsMutable","hardFlagsMutable","masterFlagsMutable","masterFlagsImmutable","flagsPerMatch","Math","round","game","player1","player2","style","cursor","allFlags","easy","medium","hard","master","getUserAnswer","userAnswer","i","checked","value","disableRadioButtons","disabled","renderAnswer","userGuessed","classList","remove","add","renderResult","updateScore","init","requestCountryData","createMasterFlagsArray","reset","initNewMatch","printMatchResult","renderScores","currPlayer","changeTurn","innerHTML","generateOptionsAsIndexes","shuffle","renderCountryNamesOnBtns","extractCountryNames","setFlagUrl","extractFlag","checkIfOutOfFlags","response","fetch","json","error","msg","getRandomInt","min","max","ceil","floor","random","countryNames","innerText","flag","src","names","array","j","temp","localStorage","getItem","generateOtherCountries","opt1","mutableArray","index","splice","currCountry","includes","setItem","addEventListener","event","setQuestionNumber","currPlayerWhenChangeLVL","preventDefault","contains"],"mappings":"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","file":"javascripts.c9b610b4.js","sourceRoot":"../src","sourcesContent":["export function Player(playerId){\n    // 1\n    const id = playerId;\n    let score = 0;\n\n\n    this.getId = () => {\n        return id;\n    }\n  \n    this.getScore = () => {\n        return Number(score);\n    }\n    // 2 3 \n    this.setScore = (playerScore) => {\n        if (playerScore < 0) {\n            throw new Error(\"Score cannot be negative\");\n        }\n        score = Number(playerScore);\n    }\n\n    this.toString = () => {\n        return \"id: \" + id + \", score: \" + score;\n    };\n}","import { Player } from \"./player-module-v2\";\n\n\n\nexport function Game(gameName, numberOfTurns) {\n    const name = gameName;\n    let noOfTurns = numberOfTurns;\n\n    let currentPlayer = undefined;\n    let players = [];\n    let currentTurn = 1;\n\n    this.getGameName = () => {\n        return name;\n    }\n\n    this.addPlayer = (player) => {\n        players.push(player);\n    }\n\n    this.removePlayer = (player) => {\n        let initialLength = players.length;\n        players = players.filter(p => p.id !== player.id);\n\n        if (initialLength === players.length) {\n            throw new Error(\"Cannot remove the player. Player not found.\");\n        }\n    }\n\n    this.getNoOfPlayers = () => {\n        return players.length;\n    }\n\n    this.setNoOfTurns = (numberOfTurns) => {\n        noOfTurns = numberOfTurns;\n    }\n\n    this.getNoOfTurns = () => {\n        return noOfTurns;\n    }\n    \n    this.incrementTurn = () => {\n        if (currentTurn < noOfTurns) {\n            currentTurn++;\n        } else {\n            throw new Error(\"Current turn can not be larger than total number of turns.\");\n        }\n    }\n\n    this.resetCurrentTurn = () => {\n        currentTurn = 1;\n    }\n\n    this.getCurrentTurn = () => {\n        return currentTurn;\n    }\n\n    this.getCurrentPlayer = () => {\n        return currentPlayer;\n    }\n\n    this.setCurrentPlayer = (player) => {\n        currentPlayer = player;\n    }\n    \n    this.getWinners = () => {\n        const result = _isDrawInternal();\n        const winners = [];\n\n        players.forEach(p => {\n            if (p === result.highestScore) {\n                winners.push(p);\n            }\n        });\n        return winners;\n\n    }\n\n    this.isDraw = () => {\n        let result = this._isDrawInternal();\n        return result.frequency > 1 ? true : false;\n    }\n\n    this._isDrawInternal = () => {\n        let highestScore = 0;\n        let map = new Map();\n\n        players.forEach(p => {\n            const currScore = p.getScore();\n            highestScore = currScore > highestScore ? currScore : highestScore;\n            //let frequency = map.get(currScore);\n            // if frequency is null/undefined/0/\"\" the next line is false\n            if (map.has(currScore)) {\n                map.set(currScore, map.get(currScore) + 1);\n            } else {\n                map.set(currScore, 1);\n            }\n        });\n      \n        return {\n            highestScore: highestScore,\n            frequency: map.get(highestScore)\n        };\n\n    }\n\n    this.toString = () => {\n        return \"name: \" + name + \", noOfTurns: \" + noOfTurns + \", currTurn: \" + currentTurn + \", currPlayer: \" + currentPlayer +\n            \"\\nplayers: \" + players.toString();\n    }\n} ","/* eslint no-console: 1 */\n\nimport { Player } from \"../modulev2/player-module-v2\";\nimport { Game } from \"../modulev2/game-module-v2\";\n\n/* ----------------------- HTML elements -------------------------- */\nconst flagImg = document.getElementById(\"flag\");\nconst first = document.querySelector(\"#options .option:nth-of-type(1) label\");\nconsole.log(\"lint\");\n//-------------\nconst second = document.querySelector(\"#options .option:nth-of-type(2) label\");\nconst third = document.querySelector(\"#options .option:nth-of-type(3) label\");\nconst firstInput = document.getElementById(\"choice1\");\nconst secondInput = document.getElementById(\"choice2\");\nconst thirdInput = document.getElementById(\"choice3\");\nconst answer = document.getElementById(\"answer\");\nconst result = document.getElementById(\"result\");\nconst form = document.querySelector(\"form\");\nconst p1Score = document.querySelector(\"#rightScore\");\nconst p2Score = document.querySelector(\"#leftScore\");\nconst opt = document.querySelector(\"#settings\");\nconst p1MatchScore = document.querySelector(\"#p1MatchScore\");\nconst p2MatchScore = document.querySelector(\"#p2MatchScore\");\nconst resetBtn = document.querySelector(\"#resetBtn\");\nconst optionsPage = document.querySelector(\"#optionsPage\");\nconst gamePage = document.querySelector(\"#gamePage\");\nconst levelChoice = document.querySelector(\"#level-select\");\nconst radioBtns = document.querySelectorAll(\"input[type=radio]\");\nconst playBtn = document.querySelector(\"#play\");\nconst next = document.getElementById(\"nextBtn\");\nconst nextDiv = document.getElementById(\"nextBtnDiv\");\n// other variables \n\n\n\nlet opt2;\nlet opt3;\nconst API_URL = \"https://restcountries.eu/rest/v2/all\";\nlet countryArray;\nlet options = [];\nlet correctAnswer;\nlet nextFlagAllowed = false;\nlet difficulty = \"medium\";\nlet indexOfAnswer = 0;\nconst easyFlagsImmutable = [\"Korea (Republic of)\", \"Netherlands\", \"Indonesia\",\n    \"Mayotte\", \"Antarctica\", \"Israel\", \"Canada\", \"Switzerland\", \"Brazil\", \"Japan\",\n    \"United Kingdom of Great Britain and Northern Ireland\", \"Sweden\", \"Turkey\", \"Germany\", \"United States of America\",\n    \"Spain\", \"Cyprus\", \"Slovakia\", \"Greece\", \"Austria\", \"Croatia\", \"Italy\", \"Denmark\", \"Russian Federation\",\n    \"Poland\", \"France\", \"China\", \"Uruguay\", \"Belgium\", \"Czech Republic\", \"Ukraine\", \"Holy See\", \"Norway\", \"Portugal\", \"Sudan\", \"Finland\", \"Nepal\", \"New Zeland\", \"Iceland\", \"United States Minor Outlying Islands\"];\nconst mediumFlagsImmutable = [\"Australia\", \"Puerto Rico\", \"Korea (Democratic People's Republic of)\",\n    \"Mexico\", \"Macedonia (the former Yugoslav Republic of)\",\n    \"Saint Martin (French part)\", \"Malta\", \"Luxembourg\", \"Ireland\", \"Bulgaria\", \"Republic of Kosovo\", \"Iraq\", \"India\",\n    \"Egypt\", \"Chile\", \"Mongolia\", \"Lithuania\", \"Montenegro\", \"Viet Nam\",\n    \"Slovenia\", \"Albania\", \"Hungary\", \"Macedonia\", \"Belarus\",\n    \"Estonia\", \"Romania\", \"Saudi Arabia\", \"Nicaragua\", \"Venezuela (Bolivarian Republic of)\", \"Syrian Arab Republic\", \"Serbia\", \"Hong Kong\", \"Argentina\"];\nconst hardFlagsImmutable = [\"Tunisia\", \"Liechtenstein\", \"Bosnia and Herzegovina\", \"Greenland\", \"Kenya\", \"Georgia\", \"Thailand\", \"Panama\", \"Jersey\", \"Bhutan\", \"Cambodia\", \"Tobago\",\n    \"Kuwait\", \"Haiti\", \"Algieria\", \"Lebanon\", \"Sri Lanka\", \"Libya\", \"Jamaica\", \"Colombia\", \"Ecuador\", \"Paraguay\", \"Afghanistan\", \"San Marino\", \"Sudan\", \"Andora\", \"Senegal\", \"Somalia\",\n    \"Turkmenistan\", \"Pakistan\", \"Iran\", \"Peru\", \"Cuba\", \"Honduras\", \"Jordan\", \"Uzbekistan\", \"South Georgia and the South Sandwich Islands\", \"Papua New Guinea\", \"Cook Islands\",\n    \"Virgin Islands (British)\", \"Heard Island and McDonald Islands\", \"Western Sahara\", \"Ã…land Islands\", \"French Southern Territories\", \"Nigeria\"];\nlet easyFlagsMutable = easyFlagsImmutable.slice();\nlet mediumFlagsMutable = mediumFlagsImmutable.slice();\nconst hardFlagsMutable = hardFlagsImmutable.slice();\nlet masterFlagsMutable = [];\nconst masterFlagsImmutable = [];\nlet flagsPerMatch = Math.round((mediumFlagsImmutable.length - 1) / 2);\nlet game = new Game(\"Flag game\", flagsPerMatch);\nconst player1 = new Player(1);\nconst player2 = new Player(2);\nnext.style.cursor = \"pointer\";\nresetBtn.style.cursor = \"pointer\";\nfirst.style.cursor = \"pointer\";\nsecond.style.cursor = \"pointer\";\nthird.style.cursor = \"pointer\";\nplayBtn.style.cursor = \"pointer\";\nopt.style.cursor = \"pointer\";\nlevelChoice.style.cursor = \"pointer\";\nconst allFlags = {\n    easy: easyFlagsImmutable,\n    medium: mediumFlagsImmutable,\n    hard: hardFlagsImmutable,\n    master: masterFlagsImmutable\n};\n\ngame.addPlayer(player1);\ngame.addPlayer(player2);\ngame.setCurrentPlayer(player1);\ninit();\np1Score.classList.add(\"activePlayer\");\noptionsPage.classList.add(\"invisible\");\nplayBtn.classList.add(\"bold\");\n\nif (localStorage.getItem(\"player1\") === null) {\n    localStorage.setItem(\"player1\", Number(0));\n    localStorage.setItem(\"player2\", Number(0));\n\n    renderScores();\n} else {\n    renderScores();\n}\n\n\n/* -------------------------- Event listeners ---------------------------- */\nlevelChoice.addEventListener(\"change\", function (event) {\n    difficulty = levelChoice.value;\n    flagsPerMatch = setQuestionNumber();\n    const currPlayerWhenChangeLVL = game.getCurrentPlayer();\n    game = new Game(\"Flag game\", flagsPerMatch);\n    game.setCurrentPlayer(currPlayerWhenChangeLVL);\n    renderScores();\n    reset();\n});\n\nform.addEventListener(\"change\", function (event) {\n    nextFlagAllowed = true;\n    next.classList.remove(\"invisible\");\n    next.classList.add(\"visible\");\n    disableRadioButtons();\n    const userAnswer = getUserAnswer();\n    renderAnswer(Number(userAnswer) === correctAnswer);\n    changeTurn();\n    renderScores();\n    event.preventDefault();\n}, false);\n\nnext.addEventListener(\"click\", function () {\n    if (nextDiv.classList.contains(\"bigMargin\") === true) {\n        nextDiv.classList.remove(\"bigMargin\");\n        nextDiv.classList.add(\"normalMargin\");\n    }\n    if (nextFlagAllowed) {\n        reset();\n        nextFlagAllowed = false;\n        next.classList.add(\"invisible\");\n        next.classList.remove(\"visible\");\n    }\n});\n\nopt.addEventListener(\"click\", function () {\n    optionsPage.classList.remove(\"invisible\");\n    gamePage.classList.remove(\"visible\");\n    gamePage.classList.add(\"invisible\");\n    optionsPage.classList.add(\"visible\");\n    playBtn.classList.remove(\"bold\");\n    opt.classList.add(\"bold\");\n});\n\nplayBtn.addEventListener(\"click\", function () {\n    opt.classList.remove(\"bold\");\n    playBtn.classList.add(\"bold\");\n    gamePage.classList.remove(\"invisible\");\n    optionsPage.classList.add(\"invisible\");\n    optionsPage.classList.remove(\"visible\");\n    gamePage.classList.add(\"visible\");\n});\n\nresetBtn.addEventListener(\"click\", function () {\n    game.resetCurrentTurn();\n    localStorage.setItem(\"player1\", Number(0));\n    localStorage.setItem(\"player2\", Number(0));\n    p1Score.classList.add(\"activePlayer\");\n    p2Score.classList.remove(\"activePlayer\");\n    game.setCurrentPlayer(player1);\n    player1.setScore(0);\n    player2.setScore(0);\n    renderScores();\n});\n\n\nfunction getUserAnswer() {\n    let userAnswer = \"\";\n    for (let i = 0; i < radioBtns.length; i++) {\n        if (radioBtns[i].checked) {\n            userAnswer = radioBtns[i].value;\n        }\n    }\n    return userAnswer;\n}\n\nfunction disableRadioButtons() {\n    firstInput.disabled = true;\n    secondInput.disabled = true;\n    thirdInput.disabled = true;\n}\nfunction renderAnswer(userGuessed) {\n    if (userGuessed) {\n        answer.classList.remove(\"red\");\n        answer.classList.add(\"green\");\n        renderResult(\"Correct!\");\n        updateScore();\n    }\n    else {\n        answer.classList.remove(\"green\");\n        answer.classList.add(\"red\");\n        renderResult(\"Inncorect! Correct answer is \" + countryArray[correctAnswer].name);\n    }\n}\n\n/* ------------------------------ main methods --------------------------- */\n\nasync function init() {\n    countryArray = await requestCountryData();\n    createMasterFlagsArray();\n    masterFlagsMutable = masterFlagsImmutable.slice();\n    reset();\n}\nfunction initNewMatch() {\n    nextDiv.classList.remove(\"normalMargin\");\n    nextDiv.classList.add(\"bigMargin\");\n    printMatchResult();\n    p1Score.classList.add(\"activePlayer\");\n    p2Score.classList.remove(\"activePlayer\");\n    player1.setScore(0);\n    player2.setScore(0);\n    renderScores();\n}\n\nfunction updateScore() {\n\n    const currPlayer = game.getCurrentPlayer();\n    currPlayer.setScore(currPlayer.getScore() + 1);\n}\n\nfunction changeTurn() {\n    if (game.getCurrentTurn() < game.getNoOfTurns()) {\n        game.incrementTurn();\n    } else {\n        if (game.getCurrentPlayer().getId() === player1.getId()) {\n            p1Score.classList.remove(\"activePlayer\");\n            p2Score.classList.add(\"activePlayer\");\n            game.setCurrentPlayer(player2);\n\n        } else {\n            game.setCurrentPlayer(player1);\n            initNewMatch();\n        }\n        game.resetCurrentTurn();\n\n    }\n}\n\nasync function reset() {\n    result.innerHTML = \"\";\n    answer.innerHTML = \"\";\n    options = generateOptionsAsIndexes(); // np 56, 78, 134\n    correctAnswer = options[0]; // 56\n    shuffle(options);\n    renderCountryNamesOnBtns(extractCountryNames());\n    setFlagUrl(extractFlag(correctAnswer));\n    firstInput.disabled = false;\n    secondInput.disabled = false;\n    thirdInput.disabled = false;\n    firstInput.checked = false;\n    secondInput.checked = false;\n    thirdInput.checked = false;\n}\n\n\n\n/* ------------------------------ heplers ----------------------------- */\nfunction checkIfOutOfFlags() {\n    if (easyFlagsMutable.length < 1) {\n        easyFlagsMutable = easyFlagsImmutable.slice();\n    }\n    if (mediumFlagsMutable.length < 1) {\n        mediumFlagsMutable = mediumFlagsImmutable.slice();\n    }\n    if (masterFlagsMutable.length < 1) {\n        masterFlagsMutable = masterFlagsImmutable.slice();\n    }\n}\nasync function requestCountryData() {\n    try {\n        const response = await fetch(API_URL);\n        const countryArray = await response.json();\n        return countryArray;\n    } catch (error) {\n        console.log(error);\n    }\n}\nfunction renderResult(msg) {\n    answer.innerHTML = msg;\n}\n/**\n * Returns a random number between min (inclusive) and max(exclusive)\n */\nfunction getRandomInt(min, max) {\n    const maxExclusive = true;\n    min = Math.ceil(min);\n    max = maxExclusive ? Math.floor(max) - 1 : Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;;\n}\n\nfunction renderCountryNamesOnBtns(countryNames) {\n    first.innerText = countryArray[options[0]].name;\n    second.innerText = countryArray[options[1]].name;\n    third.innerText = countryArray[options[2]].name;\n    firstInput.value = options[0];\n    secondInput.value = options[1];\n    thirdInput.value = options[2];\n}\n\nfunction setFlagUrl(flag) {\n    flagImg.src = flag;\n}\n\nfunction extractCountryNames() {\n    const names = [];\n    let countryNmb;\n    for (let i = 0; i < options.length; i++) {\n        names[i] = countryArray[options[i]].name;\n    }\n    return names;\n}\n\nfunction extractFlag(correctAnswer) {\n    return countryArray[correctAnswer].flag;\n}\nfunction shuffle(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i);\n        const temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n}\n\nfunction renderScores() {\n    p1Score.innerHTML = player1.getScore() + \"/\" + game.getNoOfTurns();\n    p2Score.innerHTML = \"  :  \" + player2.getScore() + \"/\" + game.getNoOfTurns();\n    p1MatchScore.innerHTML = localStorage.getItem(\"player1\");\n    p2MatchScore.innerHTML = \"  :  \" + localStorage.getItem(\"player2\");\n}\n\n\n\n\nfunction generateOtherCountries() {\n    opt2 = getRandomInt(0, countryArray.length);\n    opt3 = getRandomInt(0, countryArray.length);\n}\n\nfunction generateOptionsAsIndexes() {\n    let opt1;\n    generateOtherCountries();\n    checkIfOutOfFlags();\n    const mutableArray = allFlags[difficulty];\n    \n   \n        const index = getRandomInt(0, mutableArray.length);\n        opt1 = mutableArray[index];\n        mutableArray.splice(index, 1);\n    \n    for (let i = 0; i < countryArray.length; i++) {\n        if (opt1 === countryArray[i].name) {\n            indexOfAnswer = i;\n        }\n    }\n    while (opt2 === indexOfAnswer || indexOfAnswer === opt3 || opt2 === opt3) {\n        generateOtherCountries();\n    }\n    return [indexOfAnswer, opt2, opt3];\n}\n\n\n\nfunction createMasterFlagsArray() {\n    let j = 0;\n    let currCountry;\n    for (let i = 0; i < countryArray.length; i++) {\n        currCountry = countryArray[i].name;\n        if (!easyFlagsImmutable.includes(currCountry) && \n        !mediumFlagsImmutable.includes(currCountry) && \n        !hardFlagsImmutable.includes(currCountry)) {\n            masterFlagsImmutable[j] = currCountry;\n            j++;\n        }\n    }\n}\n\nfunction printMatchResult() {\n\n    if (game.isDraw()) {\n        result.innerHTML = \"It is a draw!!!! No more \" + difficulty + \" flags availeble for this level. Play again with the same flags or change difficulty in the options.\";\n    }\n    else {\n        if (player1.getScore() > player2.getScore()) {\n            const score = localStorage.getItem(\"player1\");\n            localStorage.setItem(\"player1\", Number(score) + 1);\n            result.innerHTML = \"player one has won. No more \" + difficulty + \" flags availeble for this level. Play again with the same flags or change difficulty in the options.\";\n        }\n        else {\n            const score = localStorage.getItem(\"player2\");\n            localStorage.setItem(\"player2\", Number(score) + 1);\n            result.innerHTML = \"player two has won. No more \" + difficulty + \" flags availeble for this level. Play again with the same flags or change difficulty in the options.\";\n        }\n    }\n}\n\nconst setQuestionNumber = () => Math.round((allFlags[difficulty].length - 1) / 2);"]}